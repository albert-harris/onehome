jQuery(function(t){t("html").hasClass("lt-ie9")&&(t("#locationCheckBoxList ul li:first-child").addClass("last"),t("#locationCheckBoxList ul li:last-child").addClass("last")),t("#locationCheckBoxList .checkBoxList_list input.checkBoxList_item.specialInternationRegions").parent("li").addClass("specialInternationalRegions");!function(){function e(){var e=t("#hidSelectedLocation"),o=t("#hlSelectedLocation");if(e.length>0&&o.length>0){var c=!0,n=e.val();if(n.length>2){if(c=!1,o.text("Multiple Selected"),n.length%2==0){for(var l=0;l<n.length;l+=2){var a=n.substr(l,2),h=t("#locationCheckBoxList .checkBoxList_list input[type=checkbox][value="+a+"]");h.length>0&&h.attr("checked",!0)}var s=t("#locationCheckBoxList .checkBoxList_list input[type=checkbox][name=location]").length,k=t("#locationCheckBoxList .checkBoxList_list input[type=checkbox][name=location]:checked").length;if(s==k){var C=t("#chkAllLocation");C.length>0&&(C.attr("checked",!0),C.click(),C.attr("checked",!0))}}}else if(2==n.length&&"XX"!=n){var h=t("#locationCheckBoxList .checkBoxList_list input[type=checkbox][value="+n+"]");h.length>0&&(o.text(t("label[for="+h.attr("id")+"]").text()),h.attr("checked",!0)),c=!1}if(c){o.text(t("label[for=chkAllLocation]").text());var C=t("#chkAllLocation");C.length>0&&(C.attr("checked",!0),C.click(),C.attr("checked",!0)),i.CoBrandCountySelection&&"function"==typeof CoBrandCountySelection.ClearAllCountySelections&&CoBrandCountySelection.ClearAllCountySelections()}0==o.find("em").length&&o.append("<em></em>")}}function o(){t("#locationCheckBoxList .checkBoxList_list input[type=checkbox]").attr("checked",!1),t("#chkAllLocation").attr("checked",!1),e()}var c={},i=this;return c.HideStateSelection=function(){o(),t("#locationCheckBoxList").hide()},t(function(){e()}),t("body").click(function(){o(),t("#locationCheckBoxList").hide()}),t("#locationCheckBoxList").click(function(t){t.stopPropagation()}),t("#hlSelectedLocation").click(function(e){e.stopPropagation(),t(".checkBoxList").hide(),i.CoBrandCountySelection&&"function"==typeof CoBrandCountySelection.HideCountySelection&&CoBrandCountySelection.HideCountySelection(),i.CoBrandCategorySelection&&"function"==typeof CoBrandCategorySelection.HideCategorySelection&&CoBrandCategorySelection.HideCategorySelection();var c=t("#locationCheckBoxList");c.length>0&&(c.show(),c.is(":visible")?i.location.hash=" ":o())}),t("#chkAllLocation").click(function(){t("#locationCheckBoxList .checkBoxList_list input[type=checkbox][name=location]").attr("checked",this.checked)}),t("#locationCheckBoxList .checkBoxList_list input[type=checkbox]").click(function(){if(this.checked){var e=t("#locationCheckBoxList .checkBoxList_list input[type=checkbox][name=location]").length,o=t("#locationCheckBoxList .checkBoxList_list input[type=checkbox][name=location]:checked").length;e>0&&e==o&&t("#chkAllLocation").attr("checked",!0)}else t("#chkAllLocation").attr("checked",!1)}),t("#hlCancelLocationSelection").click(function(){o(),t("#locationCheckBoxList").hide()}),t("#hlOKLocationSelection").click(function(){var o=t("#hidSelectedLocation");if(o.length>0){var c=!1,n=t("#chkAllLocation");if(i.CoBrandCountySelection&&"function"==typeof CoBrandCountySelection.ClearAllCountySelections&&CoBrandCountySelection.ClearAllCountySelections(),n.length>0&&n.attr("checked"))c=!0;else{o.val("");var l=t("#locationCheckBoxList .checkBoxList_list input[type=checkbox]:checked");if(l.length>0){var a=[];l.each(function(){a.push(this.value)}),a.length>0?(o.val(a.join("")),1==a.length&&i.CoBrand&&"function"==typeof CoBrand.GetCountyCheckBoxListHTMLByRegionAbbreviation&&CoBrand.GetCountyCheckBoxListHTMLByRegionAbbreviation(a[0],function(t){i.CoBrandCountySelection&&("function"==typeof CoBrandCountySelection.LoadCounties&&CoBrandCountySelection.LoadCounties(t||""),"function"==typeof CoBrandCountySelection.SelectAllCounties&&CoBrandCountySelection.SelectAllCounties())})):c=!0}else c=!0}if(c&&n.length>0){n.attr("checked",!0),n.click(),n.attr("checked",!0);var h=t("#locationCheckBoxList .checkBoxList_list input[type=checkbox][name=specialInternationalRegion]:checked"),s=!0;if(h.length>0){var k=[];if(h.each(function(){k.push(this.value)}),k.length>0){s=!1;var C=t("#locationCheckBoxList .checkBoxList_list input[type=checkbox][name=location]");C.length>0&&C.each(function(){k.push(this.value)}),o.val(k.join(""))}}s&&o.val(n.val())}e()}t("#locationCheckBoxList").hide()}),c}()});